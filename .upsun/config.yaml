applications:
  t2clone:
    # The language and version for your app.
    type: 'nodejs:20'

  source:
       root: "/"
    # The app's configuration when it's exposed to the web.
  web:
      commands:
        # A minimal start command, since it's required.
         start: sleep infinity 
      locations:
        '/':
          # Serve from the root directory of your project.
          root: 'public'
          # Forward resources to the app.
          passthru: true
          # What files to use when serving a directory.
          index: ["index.html"]
          # Allow files even without specified rules.
          allow: true
          
          expires: 24h
          rules:
                 \.(css|js|gif|jpe?g|png|svg)$:
                  expires: 4w


routes:
  "https://{default}/":
    type: upstream
    upstream: "t2clone:http"

  "https://www.{default}":
    type: redirect
    to: "https://{default}/"
